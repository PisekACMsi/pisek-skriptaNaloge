<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.84.0">
  <title>Pišek generator nalog</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/checkout/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <link href="../static/css/form-validation.css" rel="stylesheet">
  <link href="../static/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
  <style>
    
  </style>

</head>

<body class="bg-light">
  <form method="POST" action="/">
    
    <div class="container">
      <main>
        <div class="py-5 text-center">
          <img class="d-block mx-auto mb-4" src="../static/img/pisek.png" alt="" width="72" height="57">
          <h2>Pišek generator nalog</h2>
          <p class="lead">To je program za sestavljanje nalog. V polja vneseš podatke in algoritem samodejno generira
            nalogo.</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-md-7 col-lg-8">
            <!--<h4 class="mb-3"></h4>-->
            <form class="needs-validation" novalidate>
              <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-body">
                  <h3>Naloži scene</h3>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="naslov" class="form-label" >Slika robota</label><br>
                      <form id="uploadForm">
                        <input type="file" name="imageFile" accept="image/*" id="upload-image-robot">
                        <input type="button" value="Upload Image" onclick="uploadImage('characters')">
                      </form>
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="naslov" class="form-label" >Slika ozadja</label>
                      <form id="uploadForm">
                        <input type="file" name="imageFile" accept="image/*" id="upload-image-tile">
                        <input type="button" value="Upload Image" onclick="uploadImage('tiles')">
                      </form>
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="naslov" class="form-label" >Slika predmeta</label>
                      <form id="uploadForm">
                        <input type="file" name="imageFile" accept="image/*" id="upload-image-object">
                        <input type="button" value="Upload Image" onclick="uploadImage('objects')">
                      </form>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-body">
                  <h3>Osnovne informacije</h3>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="naslov" class="form-label" >Naslov naloge</label>
                      <div class="input-group has-validation">
                        <input type="text" class="form-control" id="naslov" placeholder="Miha in Piki" name="exerciseTitle">
                        <div class="invalid-feedback">
                          Polje ne sme biti prazno!
                        </div>
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="besedilo" class="form-label">Besedilo naloge</label>
                      <input type="text" class="form-control" id="besedilo" name="exerciseText"
                        placeholder="Miha in Piki trenirata na pasjem poligonu. Najprej mora Miha odpreti vrata Pikiju.">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>

                    <div class="col-12">
                      <label for="email" class="form-label"> 
                        Dodatno besedilo naloge 
                        <span class="text-muted">
                          (Opcijsko)
                        </span>
                      </label>
                      <input type="besedilo" class="form-control" id="besedilo" name="exerciseText2" placeholder="Pravimo, da je pes človeku najboljši prijatelj.">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card" style="margin-bottom: 2rem;">
                <div class="card-body">
                  <h3>Delčki</h3>
                  <div class="row">
                    <div class="col-md-4 mb-3">
                      <label for="blocks-dropdown">Kategorije delčkov</label>
                      <select class="selectpicker" id="blocks-category-dropdown" multiple data-live-search="true"
                        name="blocksDropdown">
                        <option>Izberi vse</option>
                        {{! blocksCategory}}
                      </select>
                    </div>
                    <div class="col-md-4 mb-3">
                      <label for="robot-blocks-dropdown">Premikanje robota</label>
                      <select class="selectpicker" id="blocks-robot-dropdown" multiple data-live-search="true"
                        name="robotBlocksDropdown">
                        <option>Izberi vse</option>
                        {{! blocksRobot}}
                      </select>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                      <label for="robot-blocks-dropdown">Posamezni delčki</label>
                      <select class="selectpicker" id="robot-single-blocks-dropdown" multiple data-live-search="true"
                        name="robotSingleBlocksDropdown">
                        <option>Izberi vse</option>
                        {{!  blocksSingle}}
                      </select>
                    </div>
                  </div>
                  <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="group-by-category" name="groupByCategory" checked>
                    <label class="form-check-label" for="groupByCategory">Grupiraj po kategoriji</label>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <label for="maxInstructions">Izberi koliko delčkov je na voljo</label>
                      <div class="col-md-6">
                        <input type="number" class="form-control" id="max-instructions" placeholder="število"
                          name="maxInstructions" value="666">
                        <div class="invalid-feedback">
                          Polje ne sme biti prazno!
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <button id="button-update-language-strings" class="btn btn-secondary" type="button" hx-swap="none" onclick="updateBlocks()">Posodobi delčke</button>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      Imena delčkov
                      <select class="form-select" id="select-LS" name="imenaDelckov">
                        %for i in range(len(languageStrings[1])):
                        <option>{{i}}. {{languageStrings[0][i]}} : {{languageStrings[1][i]}}</option>
                        %end
                      </select>

                    </div>
                  </div>
                  <div class="row">
                    <div class="col-2">
                      <label for="email" class="form-label">Id teksta</label>
                    </div>
                    <div class="col-3">
                      <input type="text" class="form-control" id="id-LS" name="languageStringId" placeholder="vrstica" value = "0">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-2">
                      <label for="email" class="form-label">Tekst</label>
                    </div>
                    <div class="col-6">
                      <input type="text" class="form-control" id="text-LS" name="languageString" placeholder="vrstica">
                    </div>
                  </div>
                  <div class="row" style="margin-bottom: 2rem;">
                    <div class="col-3 align-self-end">
                      <button id="button-update-language-strings" class="btn btn-secondary" type="button" hx-swap="none" onclick="updateLangugaeStrings()">Posodobi text</button>
                    </div>
                  </div>
                  <div class="row">
                    <form id="upload-form" enctype="multipart/form-data">
                      <input type="file" id="upload-starting-example-file" name="file" accept=".txt">
                      <input type="button" value="Naloži delčke" onclick="uploadStartingExample()">
                    </form>
                  </div>
                </div>
              </div>
              
              <div class="card" style="margin-bottom: 2rem;">
                <div class="card-body">
                  <h3>Ozadje</h3>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="blocks-dropdown">Izberi barvo ozadja</label>
                      <input type="color"  id="background-color"  name="backGroundSelector">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="blocks-dropdown">Izberi barvo meje</label>
                      <input type="color"  id="border-color"  name="borderSelector">
                    </div>
                    <div class="col-md-12">
                      <label for="robot-blocks-dropdown">Izberi debelino meje</label>
                        <input type="number" class="form-control" id="border-width" placeholder="število" name="borderWidth" value="0.02">
                    </div>
                    <div class="col-md-4">
                      <label for="state" class="form-label">Izberi sliko ozadja</label>
                      <select id="background-image" class="form-select" name="backgroundImage">
                        <option value="">Izberi...</option>
                        <option selected="selected">asfalt</option>
                        % for tile in tile_names:
                        <option>{{tile}}</option>
                        %end
                      </select>
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno
                      </div>
                    </div>
                  </div>
                  <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="show-labels" name="showLabels">
                    <label class="form-check-label" for="showLabels">Prikaži oznake</label>
                  </div>
                  <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="gravity-on" name="gravitationOn">
                    <label class="form-check-label" for="showLabels">Vklopi gravitacijo</label>
                  </div>

                  <div class="row" style="margin-bottom: 2rem;">

                    <div class="col-3">
                      <label for="id-aktivnega-primera">Testni primer</label>
                      <input type="number" id="active-example-update-matrix" name="quantity" min="1" max="5" value="1">
                    </div>
                    <div class="col-3">
                      <label for="email" class="form-label">Dolžina mreže</label><br>
                      <input type="text" class="form-control" id="update-matrix-length" name="sizeRow" placeholder="vrstica" value = "5">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
              
                    <div class="col-3">
                      <label for="email" class="form-label">Višina mreže</label><br>
                      <input type="text" class="form-control" id="update-matrix-height" name="sizeCol" placeholder="stolpec" value = "5">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <button id="button-update-language-strings" class="btn btn-secondary" type="button" hx-swap="none" onclick="updateMatrixParameters()">Posodobi mrežo</button>
                  </div>
                </div>
              </div>

              <div class="card" style="margin-bottom: 2rem;">
                <div class="card-body">
                  <h3>Pogoj za zmago</h3>
                  <h5>Preveri obstoj predmetov</h5>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="indikator1">Indikator</label><br>
                      <select class="form-select" id="indikator-1" name="indikator1">
                        <option selected="selected">category</option>
                      </select>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="ime1">Vrsta indikatorja</label>
                      <select class="form-select" id="exist-label-1" name="ime1">
                        <option selected="selected" value="">Ne preverjaj</option>
                        <option>coin</option>
                      </select>
                    </div>
                  </div>
                  <h5>Preveri ujemanje predmetov</h5>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="indikatorA">Indikator A</label><br>
                      <select class="form-select" id="indikatorA" name="indikatorA">
                        <option selected="selected">type</option>
                      </select>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="ime-indikatorja-A">Ime objekta A</label> <br>
                      <select class="form-select" id="coincide-label-A" name="imeA">
                        <option value="" selected="selected">Ne preverjaj</option>
                        {{! htmlListTypes}}
                      </select>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="indikatorB">Indikator B</label><br>
                      <select class="form-select" id="name-type-B" name="indikatorB">
                        <option selected="selected">type</option>
                      </select>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="ime-indikatorja-B">Ime objekta B</label><br>
                      <select class="form-select" id="coincide-label-B" name="imeB">
                        <option value="" selected="selected">Ne preverjaj</option>
                        {{! htmlListTypes}}
                      </select>
                    </div>
                  </div>
                  <div class="row">
                    <button id="button-update-language-strings" class="btn btn-secondary" type="button" hx-swap="none" onclick="updateEndConditions()">Posodobi zmago</button>
                  </div>
                </div>
              </div>

              <div class="card" style="margin-bottom: 2rem;">
                <div class="card-body">
                  <h3>Objekti</h3>

                  <h4>Robot</h4>
                  <div class = "row" style = "margin-bottom: 2rem;">
                    
                    <div class="col-md-4">
                      <label for="state" class="form-label" >Izberi sliko</label>
                      <select id="robot-image" class="form-select" name="itemImageR">
                        <option value="">Izberi...</option>
                        % for charName in character_names:
                          <option>{{charName}}</option>
                        %end

                      </select>
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno
                      </div>
                    </div>

                      <div class="col-3 align-self-end">
                        <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('addRobot')">Ustvari robota</button>
                      </div>
                    </div>
                  
                    <h4>Ustvari objekt</h4>
                    <div class = "row" style = "margin-bottom: 0,5rem;">
                      <div class="col-3">
                        <label for="imeB">Tip predmeta</label>
                        <select id="default-item-category" class="form-select" name="defaultItemCategory">
                            <option selected="selected">obstacle</option>
                            <option>transportable</option>
                            <option>coin</option>
                        </select>
                      </div>
                      <div class="col-3">
                        <label for="obstacleImage">Slika</label>
                        <select id="default-item-image" class="form-select" name="defaultItemImage">
                          <option value="">Izberi...</option>
                          % for object in objects:
                            <option>{{object}}</option>
                          %end
                        </select>
                      </div>
                      <div class="col-3 align-self-end">
                        <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('defaultItem')">Ustvari objekt</button>
                      </div>

                      <div class = "row" style = "margin-bottom: 2rem;">
                        <div class="col-3">
                          <label for="imeB">Tip predmeta</label>
                          <select id="polje" class="form-select">
                              <option selected="selected">Število</option>
                          </select>
                        </div>
                        <div class="col-3">
                          <label for="obstacleImage">Vrednost</label>
                          <input class="form-control" id="default-item-number" name="defaultItemNumber" value="0"></input>
                        </div>
                        <div class="col-3 align-self-end">
                          <button class="btn btn-secondary" type="button" hx-post="/defaultNumber" hx-swap="none" hx-target="body" onclick="refreshScene('defaultNumber')">Ustvari Število</button>
                        </div>

                        <div class = "row" style = "margin-bottom: 1rem;">
                          <div class="col-3" style = "margin-bottom: 0,5rem;">
                            <label for="imeB">Tip predmeta</label>
                            <select id="polje" class="form-select">
                                <option selected="selected">Barva</option>
                            </select>
                          </div>
                          <div class="col-3">
                            <label for="itemColorSelector">Vrednost</label>
                            <select id="default-item-color" class="form-select" name="defaultItemColor">
                              <option>Azure</option>
                              <option>Black</option>
                              <option>Blue</option>
                              <option>Brown</option>
                              <option>DarkRed</option>
                              <option>Green</option>
                              <option>Grey</option>
                              <option>Lime</option>
                              <option>Magenta</option>
                              <option>Orange</option>
                              <option>Purple</option>
                              <option>Red</option>
                              <option>White</option>
                              <option>Yellow</option>
                          </select>
                          </div>
                          <div class="col-3 align-self-end">
                            <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('defaultColor')">Ustvari barvo</button>
                          </div>
                        </div>

                        <div class = "row" style = "margin-bottom: 1rem;">
                          <div class="col-3" style = "margin-bottom: 0,5rem;">
                            <label for="imeB">Tip predmeta</label>
                            <select id="polje" class="form-select">
                                <option selected="selected">Gumb</option>
                            </select>
                          </div>
                          <div class="col-2">
                            <label for="itemColorSelector">Gumb on</label>
                            <select id="default-button-on-image" class="form-select" name="defaultButtonOnImage">
                              %for butt in buttonImages:
                                <option>{{butt}}</option>
                              %end
                            </select>
                          </div>
                          <div class="col-2">
                            <label for="itemColorSelector">Gumb off</label>
                            <select id="default-button-off-image" class="form-select" name="defaultButtonOffImage">
                              %for butt in buttonImages:
                                <option>{{butt}}</option>
                              %end
                            </select>
                          </div>
                          <div class="col-3 align-self-end">
                            <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('defaultButton')">Ustvari gumb</button>
                          </div>
                        </div>

                  <h4>Ustvari svoj objekt</h4>
                  <div class = "row" style = "margin-bottom: 2rem;">
                    <div class="col-4">
                      <label for="custom-item-name">Ustvari novo kategorijo</label>
                      <input class="form-control" id="custom-category-name" name="customItemName" value="imeKategorije"></input>
                    </div>
                    <div class="col-6 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="createNewCategory()">Ustvari novo kategorijo</button>
                    </div>
                  </div>
                  
                  <div class = "row" style = "margin-bottom: 2rem;">
                    <div class="col-md-3 mb-3">
                      <label for="custom-item-name">Ime</label>
                      <input class="form-control" id="custom-item-name" name="customItemName" value="Ime"></input>
                    </div>
                    <div class="col-md-4">
                      <label for="state" class="form-label">Izberi kategorijo</label>
                      <select class="selectpicker" id="custom-item-category" name="customItemCategory" multiple>
                        {{! customItemCategories}}
                      </select>
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno
                      </div>
                    </div>
                    <div class="col-md-4">
                      <label for="state" class="form-label" >Izberi sliko</label>
                      <select class="selectpicker" id="custom-item-image"  name="customItemImage" multiple>
                        <option selected="selected" value="">Neviden objekt</option>
                        % for object in objects:
                          <option>{{object}}</option>
                        %end

                      </select>
                    </div>
                  </div>
                  <div class = "row" style = "margin-bottom: 2rem;">
                    <div class="col-md-2 mb-3">
                      <label for="custom-item-name">Vrednost</label>
                      <input class="form-control" id="custom-item-value" name="customItemValue" value="0"></input>
                    </div>
                    <div class="col-md-2 mb-3">
                      <label for="custom-item-name">zOrder</label>
                      <input class="form-control" id="custom-item-z-order" name="customItemZOrder" value="2"></input>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="custom-button-id">Poveži z gumbom</label> <br>
                      <select id="custom-button-id" class="form-select" name="customButtonId">
                        {{! buttonNames}}
                      </select>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="custom-item-name">barva</label> <br>
                      <select id="custom-item-color" class="selectpicker" name="customItemColor" multiple>
                        <option selected="selected">Azure</option>
                        <option>Black</option>
                        <option>Blue</option>
                        <option>Brown</option>
                        <option>DarkRed</option>
                        <option>Green</option>
                        <option>Grey</option>
                        <option>Lime</option>
                        <option>Magenta</option>
                        <option>Orange</option>
                        <option>Purple</option>
                        <option>Red</option>
                        <option>White</option>
                        <option>Yellow</option>
                      </select>
                    </div>
                  </div>
                  <div class = "row" style = "margin-bottom: 2rem;">
                    <div class="col-3 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('customObject');">Ustvari predmet</button>
                    </div>
                  </div>
                 
                  <h4>Dodani Predmeti</h4>
                  <div src="views/index.html" id = "scene">
                    {{! scene}}
                  </div>
                  <h4>Dodaj na mrežo</h4>
                  <div class = "row" style = "margin-bottom: 0.5rem;">
                    <div class="col-6">
                      <label for="id-aktivnega-primera">Testni primer </label>
                      <select id="test-example-option" class="form-select">
                        %for i in range(numOfExamples):
                          <option>{{i+1}}</option>
                        %end
                      </select>
                    </div>
                    <div class="col-2 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="deleteExample()">Izbriši testni primer</button>
                    </div>
                  </div>
                  <div class = "row" style = "margin-bottom: 2rem;">
                    <div class="col-3">
                      <label class="form-label">Ime objekta</label>
                      <select id="added-item-to-matrix" class="form-select">
                        {{! htmlListTypes}}
                      </select>
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
                    <div class="col-2">
                      <label for="add-coord-col" class="form-label">Koord. X</label>
                      <input type="text" class="form-control" id="add-coord-col" name="coordCol" placeholder="vrstica" value = "0">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>

                    <div class="col-2">
                      <label for="add-coord-row" class="form-label">Koord. Y</label>
                      <input type="text" class="form-control" id="add-coord-row" name="coordRow" placeholder="vrstica" value = "0">
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
                    <div class="col-2 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('addToMatrix');">Dodaj</button>
                    </div>
                    <div class="col-2 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('removeFromMatrix');">Odstrani</button>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-3">
                      <h6>Ime za izbris</h6>
                      <select id="remove-item-name" class="form-select">
                        {{! htmlListTypes}}
                      </select>
                      <div class="invalid-feedback">
                        Polje ne sme biti prazno!
                      </div>
                    </div>
                    <div class="col-3 align-self-end">
                      <button class="btn btn-secondary" type="button" hx-swap="none" hx-target="body" onclick="refreshScene('removeItem');">Izbriši</button>
                    </div>
                  </div>


                <div class="col-md-12">
                  <img id="slika2" src="" onerror="this.onerror=null; this.remove();"
                    style="max-width: 200px; max-height: 200px; object-fit: contain; margin-bottom: 1.5rem;">
                </div>

              <button class="w-100 btn btn-primary btn-lg" style="margin-bottom: 100px;" onclick="osvezi('pisek-iframe')" hx-post="/" hx-swap="none">Generiraj nalogo</button>
              <button class="w-100 btn btn-primary btn-lg" style="margin-bottom: 100px;" type="button" onclick="resetAll()">Ponastavi</button>
            </form>
          </div>
        </div>
        <script src="../static/javascript/script.js"></script>
        <!-- <iframe src="views/naloga.html" id = "pisek-iframe" onload="this.width=screen.width;this.height=screen.height;"></iframe> -->
        
      </main>

      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">&copy; 2023 Pišek</p>
      </footer>
    </div>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script src="../static/javascript/bootstrap.bundle.min.js"></script>
    <script src="../static/javascript/form-validation.js"></script>

  </form>
</body>

</html>